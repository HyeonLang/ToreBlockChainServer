# 🏪 TORE 거래소 웹사이트

## 📋 개요

TORE 거래소는 게임 내 NFT 아이템과 TORE 토큰을 거래할 수 있는 웹 기반 마켓플레이스입니다. 사용자들은 자신의 지갑을 연결하여 NFT를 판매하거나 구매할 수 있으며, 경매 시스템을 통해 더욱 역동적인 거래를 경험할 수 있습니다.

## ✨ 주요 기능

### 🛒 마켓플레이스
- **NFT 브라우징**: 카테고리별, 가격대별 NFT 검색
- **실시간 거래**: 즉시 구매 및 판매 기능
- **필터링**: 카테고리, 가격 범위, 정렬 옵션
- **페이지네이션**: 효율적인 대량 데이터 처리

### 💰 거래 시스템
- **NFT 판매**: 보유한 NFT를 TORE 토큰으로 판매
- **NFT 구매**: TORE 토큰으로 다른 사용자의 NFT 구매
- **거래 수수료**: 2.5% 거래 수수료 시스템
- **거래 내역**: 판매/구매 내역 추적

### 🏆 경매 시스템
- **경매 생성**: NFT를 경매로 등록
- **입찰 시스템**: 실시간 입찰 및 최고가 갱신
- **즉시 구매**: Buy Now 옵션으로 즉시 구매 가능
- **시간 제한**: 설정된 시간에 자동 경매 종료

### 👛 지갑 연동
- **MetaMask 연결**: 웹3 지갑 자동 연결
- **잔액 표시**: TORE 토큰 잔액 실시간 표시
- **계정 관리**: 지갑 계정 변경 감지 및 처리
- **네트워크 감지**: 블록체인 네트워크 변경 감지

## 🏗️ 기술 구조

### 프론트엔드
- **HTML5**: 시맨틱 마크업
- **CSS3**: 모던 스타일링 및 반응형 디자인
- **Vanilla JavaScript**: 순수 JS로 구현된 SPA
- **Ethers.js**: 블록체인 상호작용

### 백엔드 (기존)
- **Node.js + Express**: RESTful API 서버
- **TypeScript**: 타입 안전성
- **JWT 인증**: 보안 인증 시스템
- **Rate Limiting**: API 호출 제한

### 스마트 컨트랙트 (기존)
- **ToreExchange**: NFT ↔ TORE 토큰 거래소
- **ToreToken**: ERC20 토큰 컨트랙트
- **GameItem**: ERC721 NFT 컨트랙트
- **Avalanche 네트워크**: Fuji 테스트넷 및 메인넷 지원

## 📁 파일 구조

```
frontend/public/
├── exchange.html          # 거래소 메인 페이지
├── css/
│   └── exchange.css       # 거래소 스타일시트
└── js/
    ├── exchangeApp.js     # 메인 애플리케이션
    ├── exchangeManager.js # 거래소 관리자
    ├── auctionManager.js  # 경매 관리자
    └── walletManager.js   # 지갑 관리자 (기존 확장)
```

## 🚀 사용 방법

### 1. 서버 실행
```bash
npm run dev
```

### 2. 거래소 접속
브라우저에서 `http://localhost:3000/exchange.html` 접속

### 3. 지갑 연결
- MetaMask 설치 및 로그인
- "지갑 연결" 버튼 클릭
- 지갑 연결 승인

### 4. 거래 시작
- **NFT 구매**: 마켓플레이스에서 원하는 NFT 선택 후 구매
- **NFT 판매**: "내 NFT" 탭에서 보유한 NFT 판매 등록
- **경매 참여**: "경매" 탭에서 경매 생성 또는 입찰

## 🎨 UI/UX 특징

### 반응형 디자인
- **데스크톱**: 1200px 이상 최적화
- **태블릿**: 768px - 1199px 적응형 레이아웃
- **모바일**: 480px 이하 모바일 최적화

### 모던 UI
- **그라데이션**: 시각적 매력도 향상
- **카드 디자인**: 직관적인 NFT 표시
- **모달 시스템**: 부드러운 상호작용
- **토스트 알림**: 실시간 피드백

### 사용자 경험
- **실시간 업데이트**: 거래 상태 실시간 반영
- **키보드 단축키**: 효율적인 조작
- **로딩 상태**: 명확한 진행 상황 표시
- **에러 처리**: 친화적인 오류 메시지

## 🔧 주요 컴포넌트

### ExchangeApp
- 전체 애플리케이션 초기화 및 관리
- 매니저들 간의 통합 관리
- 전역 이벤트 처리

### ExchangeManager
- NFT 마켓플레이스 관리
- 거래 생성, 구매, 취소
- 필터링 및 페이지네이션

### AuctionManager
- 경매 생성 및 관리
- 입찰 시스템
- 경매 종료 처리

### WalletManager (확장)
- MetaMask 연결 관리
- 계정 변경 감지
- 연결 상태 콜백 시스템

## 📊 API 엔드포인트

### 거래소 API
- `GET /api/exchange/active-trades` - 활성 거래 목록
- `POST /api/exchange/create-trade` - 거래 생성
- `POST /api/exchange/buy-nft` - NFT 구매
- `POST /api/exchange/cancel-trade` - 거래 취소
- `GET /api/exchange/user-trades/:address` - 사용자 거래 내역

### NFT API
- `GET /api/nft/balance/:address` - 사용자 NFT 목록
- `GET /api/nft/info/:tokenId` - NFT 정보 조회

### 토큰 API
- `GET /api/tore/balance/:address` - TORE 토큰 잔액

## 🔒 보안 기능

### 인증 시스템
- **JWT 토큰**: 안전한 사용자 인증
- **API 키**: 서버 간 통신 보안
- **하이브리드 인증**: JWT 또는 API 키 선택

### 입력 검증
- **클라이언트 검증**: 실시간 입력 검증
- **서버 검증**: 백엔드 데이터 검증
- **XSS 방지**: 입력 데이터 정제

### 트랜잭션 보안
- **MetaMask 서명**: 사용자 직접 트랜잭션 승인
- **가스비 관리**: 적절한 가스비 설정
- **네트워크 검증**: 올바른 네트워크 연결 확인

## 🎯 향후 개선 사항

### 기능 확장
- **고급 필터링**: 더 세밀한 검색 옵션
- **즐겨찾기**: 관심 NFT 저장
- **알림 시스템**: 입찰/판매 알림
- **소셜 기능**: 사용자 프로필 및 리뷰

### 성능 최적화
- **캐싱**: API 응답 캐싱
- **지연 로딩**: 이미지 지연 로딩
- **가상화**: 대량 데이터 가상화
- **CDN**: 정적 자원 CDN 배포

### 사용자 경험
- **다크 모드**: 다크 테마 지원
- **다국어**: 다국어 지원
- **접근성**: 웹 접근성 개선
- **PWA**: Progressive Web App 변환

## 📝 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🤝 기여하기

1. 프로젝트 포크
2. 기능 브랜치 생성 (`git checkout -b feature/AmazingFeature`)
3. 변경사항 커밋 (`git commit -m 'Add some AmazingFeature'`)
4. 브랜치에 푸시 (`git push origin feature/AmazingFeature`)
5. Pull Request 생성

## 📞 지원

문제가 발생하거나 질문이 있으시면 이슈를 생성해주세요.

---

**TORE 거래소** - 게임 NFT의 새로운 거래 경험을 제공합니다! 🎮✨
