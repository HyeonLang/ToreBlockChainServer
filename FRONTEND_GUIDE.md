# 🎨 ToreBlockChainServer 프론트엔드 사용 설명서

## 📋 목차
1. [개요](#개요)
2. [시작하기](#시작하기)
3. [탭별 기능 설명](#탭별-기능-설명)
4. [통합 기능](#통합-기능)
5. [UI/UX 특징](#uiux-특징)
6. [문제 해결](#문제-해결)
7. [기술적 세부사항](#기술적-세부사항)

## 📖 개요

ToreBlockChainServer의 프론트엔드는 완전한 NFT 관리 시스템을 제공하는 웹 애플리케이션입니다. MetaMask 지갑 연동을 통해 블록체인과 직접 상호작용하며, 사용자 친화적인 인터페이스로 NFT의 생성, 전송, 삭제, 조회 및 거래 이력 확인이 가능합니다.

### 🎯 주요 특징
- **완전한 NFT 관리**: 생성부터 거래 이력까지 모든 기능
- **MetaMask 자동 연동**: 지갑 연결 및 주소 자동 입력
- **실시간 상태 표시**: 모든 작업의 진행 상황을 실시간으로 표시
- **통합 조회 기능**: 조회 결과에서 바로 관련 정보 확인
- **반응형 디자인**: 모바일과 데스크톱 모두 지원

## 🚀 시작하기

### 1. 접속
브라우저에서 `http://localhost:3000` 접속

### 2. MetaMask 연결
1. "메타마스크 지갑 연결" 버튼 클릭
2. MetaMask 팝업에서 계정 선택 및 연결 승인
3. 연결된 지갑 주소가 자동으로 입력됨

### 3. 기본 설정 확인
- 서버 상태: 정상 연결 시 "서버 연결 상태: 정상" 표시
- 컨트랙트 주소: 자동으로 로드됨
- 지갑 주소: 연결된 주소가 상단에 표시됨

## 📑 탭별 기능 설명

### 1. 🎨 생성 탭
**목적**: 새로운 NFT 생성 (민팅)

#### 사용 방법
1. **받는 주소**: NFT를 받을 지갑 주소 (연결된 지갑 주소가 자동 입력)
2. **토큰 URI**: NFT 메타데이터 URI 입력
   - 예시: `https://ipfs.io/ipfs/QmYourMetadataHash`
   - 또는: `ipfs://QmYourMetadataHash`
3. **"NFT 생성하기"** 버튼 클릭
4. MetaMask에서 트랜잭션 승인
5. 생성 완료 후 자동으로 지갑에 NFT 추가

#### 결과 표시
- 성공 시: 토큰 ID와 트랜잭션 해시 표시
- 실패 시: 구체적인 오류 메시지 표시

### 2. 📤 전송 탭
**목적**: 기존 NFT를 다른 지갑으로 전송

#### 사용 방법
1. **보내는 주소**: NFT를 보내는 지갑 주소
2. **받는 주소**: NFT를 받을 지갑 주소
3. **토큰 ID**: 전송할 NFT의 토큰 ID
4. **"NFT 전송하기"** 버튼 클릭
5. MetaMask에서 트랜잭션 승인

#### 검증 기능
- 주소 형식 검증 (0x로 시작하는 42자리)
- 토큰 ID 숫자 검증 (0 이상의 정수)
- 같은 주소로 전송 방지

### 3. 🗑️ 삭제 탭
**목적**: NFT 소각 (영구 삭제)

#### 사용 방법
1. **토큰 ID**: 삭제할 NFT의 토큰 ID 입력
2. **"NFT 삭제하기"** 버튼 클릭
3. 확인 팝업에서 승인
4. MetaMask에서 트랜잭션 승인

#### 주의사항
- 삭제된 NFT는 복구할 수 없음
- 확인 팝업에서 신중하게 결정

### 4. 🔍 개별조회 탭
**목적**: 특정 NFT의 기본 정보 조회

#### 사용 방법
1. **토큰 ID**: 조회할 NFT의 토큰 ID 입력
2. **"NFT 정보 조회"** 버튼 클릭

#### 표시 정보
- **소유자**: 현재 NFT를 소유한 지갑 주소
- **토큰 URI**: NFT 메타데이터 URI
- **거래 이력 보기**: 해당 NFT의 거래 내역 조회 (통합 기능)

### 5. 👛 지갑조회 탭
**목적**: 특정 지갑이 소유한 모든 NFT 조회

#### 사용 방법
1. **지갑 주소**: 조회할 지갑 주소 입력
2. **"지갑 NFT 조회"** 버튼 클릭

#### 표시 정보
- **NFT 목록**: 소유한 모든 NFT의 정보
- **각 NFT 정보**: 토큰 ID, 소유자, URI
- **거래 이력 보기**: 해당 지갑의 모든 NFT 거래 내역 (통합 기능)

### 6. 📊 NFT거래이력 탭
**목적**: 특정 NFT의 모든 거래 내역 조회

#### 사용 방법
1. **토큰 ID**: 거래 이력을 조회할 NFT의 토큰 ID 입력
2. **"NFT 거래 이력 조회"** 버튼 클릭

#### 표시 정보
- **거래 타입**: 민팅, 전송, 소각
- **주소 정보**: 보내는 주소, 받는 주소
- **토큰 정보**: 토큰 ID
- **블록체인 정보**: 블록 번호, 트랜잭션 해시
- **시간 정보**: 거래 발생 시간

#### 거래 타입별 색상
- 🟢 **민팅**: 초록색 (새로운 NFT 생성)
- 🔵 **전송**: 파란색 (NFT 소유권 이전)
- 🔴 **소각**: 빨간색 (NFT 영구 삭제)

### 7. 📈 지갑거래이력 탭
**목적**: 특정 지갑의 모든 NFT 거래 내역 조회

#### 사용 방법
1. **지갑 주소**: 거래 이력을 조회할 지갑 주소 입력
2. **"지갑 거래 이력 조회"** 버튼 클릭

#### 표시 정보
- **거래 타입**: 민팅, 전송, 소각
- **거래 방향**: 보냄, 받음
- **주소 정보**: 보내는 주소, 받는 주소
- **토큰 정보**: 토큰 ID
- **블록체인 정보**: 블록 번호, 트랜잭션 해시
- **시간 정보**: 거래 발생 시간 (최신순 정렬)

#### 거래 방향별 색상
- 🟡 **보냄**: 노란색 (해당 지갑에서 보낸 거래)
- 🔵 **받음**: 파란색 (해당 지갑이 받은 거래)

## 🔗 통합 기능

### 1. NFT 정보에서 거래 이력 보기
1. **개별조회** 탭에서 NFT 정보 조회
2. 결과 하단의 **"거래 이력 보기"** 버튼 클릭
3. 자동으로 **NFT거래이력** 탭으로 전환
4. 토큰 ID 자동 입력 및 거래 이력 조회

### 2. 지갑 조회에서 거래 이력 보기
1. **지갑조회** 탭에서 지갑 NFT 조회
2. 결과 하단의 **"거래 이력 보기"** 버튼 클릭
3. 자동으로 **지갑거래이력** 탭으로 전환
4. 지갑 주소 자동 입력 및 거래 이력 조회

## 🎨 UI/UX 특징

### 1. 반응형 디자인
- **데스크톱**: 넓은 화면에서 최적화된 레이아웃
- **모바일**: 터치 친화적인 인터페이스
- **태블릿**: 중간 크기 화면에 적합한 배치

### 2. 시각적 피드백
- **로딩 애니메이션**: 작업 진행 중 스피너 표시
- **상태 메시지**: 성공/오류/정보 메시지 색상 구분
- **버튼 상태**: 비활성화/활성화 상태 명확히 구분

### 3. 사용자 편의성
- **자동 입력**: 지갑 연결 시 관련 필드 자동 채움
- **입력 검증**: 실시간 입력값 검증 및 오류 메시지
- **원클릭 조회**: 통합 기능으로 관련 정보 쉽게 확인

### 4. 정보 표시
- **카드 형태**: 정보를 깔끔하게 정리된 카드로 표시
- **색상 코딩**: 거래 타입과 방향을 색상으로 구분
- **링크 연결**: 트랜잭션 해시 클릭 시 SnowTrace에서 상세 확인

## 🔧 문제 해결

### 1. MetaMask 연결 문제
**증상**: 지갑 연결이 안 됨
**해결방법**:
- MetaMask 확장 프로그램이 설치되어 있는지 확인
- 브라우저에서 MetaMask가 활성화되어 있는지 확인
- 팝업 차단 설정 확인

### 2. 서버 연결 문제
**증상**: "서버에 연결할 수 없습니다" 메시지
**해결방법**:
- 서버가 실행 중인지 확인 (`npm run dev`)
- 포트 3000이 사용 중인지 확인
- 방화벽 설정 확인

### 3. 트랜잭션 실패
**증상**: MetaMask에서 트랜잭션이 실패함
**해결방법**:
- 가스비가 충분한지 확인
- 네트워크가 올바른지 확인 (Avalanche Fuji 테스트넷)
- 컨트랙트 주소가 설정되어 있는지 확인

### 4. 거래 이력 조회 실패
**증상**: 거래 이력이 표시되지 않음
**해결방법**:
- 토큰 ID가 올바른지 확인
- 지갑 주소 형식이 올바른지 확인
- 해당 NFT나 지갑에 거래 이력이 있는지 확인

## 🛠️ 기술적 세부사항

### 1. 사용된 기술
- **HTML5**: 시맨틱 마크업
- **CSS3**: Flexbox, Grid, 애니메이션
- **Vanilla JavaScript**: ES6+ 문법
- **Ethers.js**: 블록체인 상호작용
- **MetaMask API**: 지갑 연동

### 2. 주요 클래스
```javascript
class NFTMinter {
    // 메인 클래스
    - init(): 초기화
    - connectWallet(): MetaMask 연결
    - createNFT(): NFT 생성
    - transferNFT(): NFT 전송
    - deleteNFT(): NFT 삭제
    - getNFTInfo(): NFT 정보 조회
    - getWalletNFTs(): 지갑 NFT 조회
    - getNftTransactionHistory(): NFT 거래 이력 조회
    - getWalletTransactionHistory(): 지갑 거래 이력 조회
}
```

### 3. API 엔드포인트
- `POST /api/nft/mint` - NFT 생성
- `POST /api/nft/transfer` - NFT 전송
- `POST /api/nft/burn` - NFT 삭제
- `GET /api/nft/:tokenId` - NFT 정보 조회
- `GET /api/nft/wallet` - 지갑 NFT 조회
- `GET /api/nft/:tokenId/history` - NFT 거래 이력 조회
- `GET /api/nft/wallet/history` - 지갑 거래 이력 조회

### 4. 에러 처리
- **네트워크 에러**: 연결 실패 시 사용자에게 알림
- **입력 검증**: 클라이언트 측에서 실시간 검증
- **서버 에러**: HTTP 상태 코드별 적절한 메시지 표시
- **블록체인 에러**: 트랜잭션 실패 시 구체적인 원인 표시

### 5. 상태 관리
- **로딩 상태**: 각 작업별 로딩 표시
- **에러 상태**: 오류 발생 시 적절한 메시지 표시
- **성공 상태**: 작업 완료 시 결과 표시
- **정보 상태**: 진행 상황 및 안내 메시지

## 📱 모바일 사용 팁

### 1. 화면 회전
- 가로 모드에서 더 나은 사용 경험
- 세로 모드에서도 모든 기능 사용 가능

### 2. 터치 조작
- 버튼 크기가 터치하기 적절하게 설계됨
- 스크롤이 필요한 영역은 명확히 표시됨

### 3. MetaMask 모바일
- MetaMask 모바일 앱과 연동 가능
- QR 코드를 통한 연결도 지원

## 🎯 사용 시나리오

### 시나리오 1: 새로운 NFT 생성
1. MetaMask 연결
2. 생성 탭에서 토큰 URI 입력
3. NFT 생성하기 클릭
4. MetaMask에서 승인
5. 생성된 NFT 확인

### 시나리오 2: NFT 전송
1. 전송 탭에서 주소와 토큰 ID 입력
2. NFT 전송하기 클릭
3. MetaMask에서 승인
4. 전송 완료 확인

### 시나리오 3: 거래 이력 확인
1. 개별조회에서 NFT 정보 조회
2. 거래 이력 보기 클릭
3. 모든 거래 내역 확인
4. 트랜잭션 해시로 상세 정보 확인

### 시나리오 4: 지갑 전체 조회
1. 지갑조회에서 주소 입력
2. 소유한 모든 NFT 확인
3. 거래 이력 보기로 전체 거래 내역 확인

---

**ToreBlockChainServer 프론트엔드** - 직관적이고 강력한 NFT 관리 시스템 🚀
